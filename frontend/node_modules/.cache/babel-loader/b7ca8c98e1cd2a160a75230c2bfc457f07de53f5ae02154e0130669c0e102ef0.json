{"ast":null,"code":"var _jsxFileName = \"/home/nuwhales/project/E-Commerce-Full-Stack-App/frontend/src/components/Product/product.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport \"./product.css\";\nimport Loader from '../Loader/loader.js';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport { setProductId, selectProducts, selectFilteredProducts, selectProduct } from '../../store/Product/productSlice.js';\nimport { selectUserId } from '../../store/User/userSlice';\nimport { selectCartId, loadCart, updateCart } from '../../store/Cart/cartSlice';\nimport { AddCircle } from '@mui/icons-material';\nimport { RemoveCircle } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Product = () => {\n  _s();\n  const [cartQuantity, setCartQuantity] = useState(product === null || product === void 0 ? void 0 : product.cart_quantity);\n  const [quantity, setQuantity] = useState(product === null || product === void 0 ? void 0 : product.cart_quantity);\n  const products = useSelector(selectProducts);\n  const cartId = useSelector(selectCartId);\n  const userId = useSelector(selectUserId);\n  const product = product === null || product === void 0 ? void 0 : product.product_id;\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  const handleProductClick = () => {\n    dispatch(setProductId(productId));\n  };\n  const handleAddClick = () => {\n    dispatch(setCartQuantity(prev => prev + 1));\n  };\n  const handleRemoveClick = () => {\n    setCartQuantity(prev => {\n      if (!prev) return;else return prev - 1;\n    });\n  };\n  const handleCartClick = () => {\n    if (!userId) {\n      navigate('/login', {\n        replace: true\n      });\n    } else if (cartQuantity) {\n      setCartQuantity(prev => prev + 1);\n    } else {\n      setCartQuantity(1);\n    }\n  };\n  useEffect(() => {\n    if (quantity !== cartQuantity) {\n      dispatch(updateCart({\n        cartId,\n        userId,\n        cartQuantity,\n        productId\n      }));\n      dispatch(loadCart({\n        cartId,\n        userId\n      }));\n      setQuantity(cartQuantity);\n    }\n  }, [cartId, userId, productId, cartQuantity, quantity, dispatch]);\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty__product__container\",\n      children: [/*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"empty__product__header\",\n        children: \" Under Construction \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"empty__product__message\",\n        children: \" Redirecting..... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 8\n      }, this), setTimeout(() => {\n        navigate(\"/\");\n      }, 3000)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Product__container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__name__container\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"Product__name__header\",\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__category__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"Product__category__label\",\n        children: \" Category: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Product__category__header\",\n        children: [\" \", product.category, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__image__container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__price__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"Product__price__label\",\n        children: \" Price: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Product__details__price\",\n        children: [\" \", product.sell_price, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__description__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"Product__category__label\",\n        children: \" Description: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Product__details__description\",\n        children: [product.description, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__button_container\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        name: \"Add item\",\n        onClick: handleAddClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        name: \"Remove item\",\n        onClick: handleRemoveClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        name: \"Add to cart\",\n        onClick: handleCartClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(Product, \"9ZvLFg75dC8U64GvnDzeFsNdcO0=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch, useNavigate];\n});\n_c = Product;\nexport default Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useState","useEffect","Loader","useSelector","useDispatch","Link","useNavigate","IconButton","Button","setProductId","selectProducts","selectFilteredProducts","selectProduct","selectUserId","selectCartId","loadCart","updateCart","AddCircle","RemoveCircle","jsxDEV","_jsxDEV","Product","_s","cartQuantity","setCartQuantity","product","cart_quantity","quantity","setQuantity","products","cartId","userId","product_id","dispatch","navigate","handleProductClick","productId","handleAddClick","prev","handleRemoveClick","handleCartClick","replace","className","children","fileName","_jsxFileName","lineNumber","columnNumber","setTimeout","name","category","src","url","sell_price","description","onClick","_c","$RefreshReg$"],"sources":["/home/nuwhales/project/E-Commerce-Full-Stack-App/frontend/src/components/Product/product.js"],"sourcesContent":["import React , { useState, useEffect } from 'react';\nimport \"./product.css\";\nimport Loader from '../Loader/loader.js';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport { setProductId, selectProducts, selectFilteredProducts, selectProduct } from '../../store/Product/productSlice.js';\nimport { selectUserId } from '../../store/User/userSlice';\nimport { selectCartId, loadCart, updateCart } from '../../store/Cart/cartSlice';\nimport { AddCircle } from '@mui/icons-material';\nimport { RemoveCircle } from '@mui/icons-material';\n\n\nconst Product = () => {\n\n  const [cartQuantity, setCartQuantity] = useState(product?.cart_quantity);\n  const [quantity, setQuantity] = useState(product?.cart_quantity);\n  const products = useSelector(selectProducts);\n  const cartId = useSelector(selectCartId);\n  const userId = useSelector(selectUserId);\n  const product = product?.product_id;\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n\n  const handleProductClick = () => {\n    dispatch(setProductId(productId));\n  };\n\n  const handleAddClick = () => {\n    dispatch(setCartQuantity(prev => prev + 1));\n  }\n\n  const handleRemoveClick = () => {\n    setCartQuantity(prev => {\n      if(!prev) return;\n      else return prev - 1\n      });\n  }\n\n  const handleCartClick = () => {\n    if(!userId) {\n      navigate('/login', { replace: true});\n    }\n    else if (cartQuantity) {\n      setCartQuantity(prev => prev + 1);\n    }\n    else {\n      setCartQuantity(1)\n    }\n  }\n\n\n  useEffect(() => {\n  if(quantity !== cartQuantity) {\n    dispatch(updateCart({ cartId, userId, cartQuantity, productId}));\n    dispatch(loadCart( { cartId, userId } ));\n    setQuantity(cartQuantity);\n    }\n  }, [cartId, userId, productId, cartQuantity, quantity, dispatch]);\n\n  if(!product) {\n    return (\n      <div className=\"empty__product__container\">\n       <Loader />\n       <h1 className=\"empty__product__header\"> Under Construction </h1>\n       <p className=\"empty__product__message\"> Redirecting..... </p>\n       {setTimeout(() => {\n         navigate(\"/\")\n        }, 3000)}\n      </div>\n    );\n  }\n\n\n  return (\n    <div className=\"Product__container\">\n      <div className=\"Product__name__container\">\n       <h2 className=\"Product__name__header\">{product.name}</h2>\n      </div>\n      <div className=\"Product__category__container\">\n       <h3 className=\"Product__category__label\"> Category: </h3>\n       <p className=\"Product__category__header\"> {product.category} </p>\n      </div>\n      <div className=\"Product__image__container\">\n       <img src={product.url}/>\n      </div>\n      <div className=\"Product__price__container\">\n       <h3 className=\"Product__price__label\"> Price: </h3>\n       <p className=\"Product__details__price\"> {product.sell_price} </p>\n      </div>\n      <div className=\"Product__description__container\">\n       <h3 className=\"Product__category__label\"> Description: </h3>\n       <p className=\"Product__details__description\">{product.description} </p>\n      </div>\n     <div className=\"Product__button_container\">\n       <Button name=\"Add item\" onClick={handleAddClick}></Button>\n       <Button name=\"Remove item\" onClick={handleRemoveClick}></Button>\n       <Button name=\"Add to cart\" onClick={handleCartClick}></Button>\n     </div>\n    </div>\n  );\n}\n\nexport default Product;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}