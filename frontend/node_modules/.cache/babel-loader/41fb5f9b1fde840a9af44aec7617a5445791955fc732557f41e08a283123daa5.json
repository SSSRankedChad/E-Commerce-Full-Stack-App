{"ast":null,"code":"var _jsxFileName = \"/home/nuwhales/project/E-Commerce-Full-Stack-App/frontend/src/components/Product/product.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport \"./product.css\";\nimport Loader from '../Loader/loader.js';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport { setProductId, selectProducts, selectFilteredProducts, selectProduct } from '../../store/Product/productSlice.js';\nimport { AddCircle } from '@mui/icons-material';\nimport { RemoveCircle } from '@mui/icons-material';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Product = () => {\n  _s();\n  const products = useSelector(selectProducts);\n  const product = useSelector(selectProduct);\n  const productId = product === null || product === void 0 ? void 0 : product.product_id;\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  const handleProductClick = () => {\n    dispatch(setProductId(productId));\n  };\n  const handleAddClick = () => {\n    dispatch(setCartQuantity(prev => prev + 1));\n  };\n  const handleRemoveClick = () => {\n    setCartQuantity(prev => {\n      if (!prev) return;else return prev - 1;\n    });\n  };\n  const handleCartClick = () => {\n    if (!userId) {\n      navigate('/login', {\n        replace: true\n      });\n    } else if (cartQuantity) {\n      setCartQuantity(prev => prev + 1);\n    } else {\n      setCartQuantity(1);\n    }\n  };\n  useEffect(() => {\n    if (quantity !== cartQuantity) {\n      dispatch(updateCart({\n        cartId,\n        userId,\n        cartQuantity,\n        productId\n      }));\n      dispatch(loadCart({\n        cartId,\n        userId\n      }));\n      setQuantity(cartQuantity);\n    }\n  }, [cartId, userId, productId, cartQuantity, quantity, dispatch]);\n  if (!product) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"empty__product__container\",\n      children: [/*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"empty__product__header\",\n        children: \" Under Construction \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"empty__product__message\",\n        children: \" Redirecting..... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 8\n      }, this), setTimeout(() => {\n        navigate(\"/\");\n      }, 3000)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Product__container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__name__container\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"Product__name__header\",\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__category__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"Product__category__label\",\n        children: \" Category: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Product__category__header\",\n        children: [\" \", product.category, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__image__container\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: product.url\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 8\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__price__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"Product__price__label\",\n        children: \" Price: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Product__details__price\",\n        children: [\" \", product.sell_price, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__description__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"Product__category__label\",\n        children: \" Description: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"Product__details__description\",\n        children: [product.description, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Product__button_container\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        name: \"Add item\",\n        onClick: handleAddClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        name: \"Remove item\",\n        onClick: handleRemoveClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        name: \"Add to cart\",\n        onClick: handleCartClick\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Product, \"BDLX2Xv9kFPWNZTjtAyKxEcIrME=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useNavigate];\n});\n_c = Product;\nexport default Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useState","useEffect","Loader","useSelector","useDispatch","Link","useNavigate","IconButton","Button","setProductId","selectProducts","selectFilteredProducts","selectProduct","AddCircle","RemoveCircle","jsxDEV","_jsxDEV","Product","_s","products","product","productId","product_id","dispatch","navigate","handleProductClick","handleAddClick","setCartQuantity","prev","handleRemoveClick","handleCartClick","userId","replace","cartQuantity","quantity","updateCart","cartId","loadCart","setQuantity","className","children","fileName","_jsxFileName","lineNumber","columnNumber","setTimeout","name","category","src","url","sell_price","description","onClick","_c","$RefreshReg$"],"sources":["/home/nuwhales/project/E-Commerce-Full-Stack-App/frontend/src/components/Product/product.js"],"sourcesContent":["import React , { useState, useEffect } from 'react';\nimport \"./product.css\";\nimport Loader from '../Loader/loader.js';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, useNavigate } from 'react-router-dom';\nimport IconButton from '@mui/material/IconButton';\nimport Button from '@mui/material/Button';\nimport { setProductId, selectProducts, selectFilteredProducts, selectProduct } from '../../store/Product/productSlice.js';\nimport { AddCircle } from '@mui/icons-material';\nimport { RemoveCircle } from '@mui/icons-material';\n\n\nconst Product = () => {\n  const products = useSelector(selectProducts);\n  const product = useSelector(selectProduct);\n  const productId = product?.product_id;\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n\n  const handleProductClick = () => {\n    dispatch(setProductId(productId));\n  };\n\n  const handleAddClick = () => {\n    dispatch(setCartQuantity(prev => prev + 1));\n  }\n\n  const handleRemoveClick = () => {\n    setCartQuantity(prev => {\n      if(!prev) return;\n      else return prev - 1\n      });\n  }\n\n  const handleCartClick = () => {\n    if(!userId) {\n      navigate('/login', { replace: true});\n    }\n    else if (cartQuantity) {\n      setCartQuantity(prev => prev + 1);\n    }\n    else {\n      setCartQuantity(1)\n    }\n  }\n\n\n  useEffect(() => {\n  if(quantity !== cartQuantity) {\n    dispatch(updateCart({ cartId, userId, cartQuantity, productId}));\n    dispatch(loadCart( { cartId, userId } ));\n    setQuantity(cartQuantity);\n    }\n  }, [cartId, userId, productId, cartQuantity, quantity, dispatch]);\n\n  if(!product) {\n    return (\n      <div className=\"empty__product__container\">\n       <Loader />\n       <h1 className=\"empty__product__header\"> Under Construction </h1>\n       <p className=\"empty__product__message\"> Redirecting..... </p>\n       {setTimeout(() => {\n         navigate(\"/\")\n        }, 3000)}\n      </div>\n    );\n  }\n\n\n  return (\n    <div className=\"Product__container\">\n      <div className=\"Product__name__container\">\n       <h2 className=\"Product__name__header\">{product.name}</h2>\n      </div>\n      <div className=\"Product__category__container\">\n       <h3 className=\"Product__category__label\"> Category: </h3>\n       <p className=\"Product__category__header\"> {product.category} </p>\n      </div>\n      <div className=\"Product__image__container\">\n       <img src={product.url}/>\n      </div>\n      <div className=\"Product__price__container\">\n       <h3 className=\"Product__price__label\"> Price: </h3>\n       <p className=\"Product__details__price\"> {product.sell_price} </p>\n      </div>\n      <div className=\"Product__description__container\">\n       <h3 className=\"Product__category__label\"> Description: </h3>\n       <p className=\"Product__details__description\">{product.description} </p>\n      </div>\n     <div className=\"Product__button_container\">\n       <Button name=\"Add item\" onClick={handleAddClick}></Button>\n       <Button name=\"Remove item\" onClick={handleRemoveClick}></Button>\n       <Button name=\"Add to cart\" onClick={handleCartClick}></Button>\n     </div>\n    </div>\n  );\n}\n\nexport default Product;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAKC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACnD,OAAO,eAAe;AACtB,OAAOC,MAAM,MAAM,qBAAqB;AACxC,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AACtD,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACpD,OAAOC,UAAU,MAAM,0BAA0B;AACjD,OAAOC,MAAM,MAAM,sBAAsB;AACzC,SAASC,YAAY,EAAEC,cAAc,EAAEC,sBAAsB,EAAEC,aAAa,QAAQ,qCAAqC;AACzH,SAASC,SAAS,QAAQ,qBAAqB;AAC/C,SAASC,YAAY,QAAQ,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAGnD,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAMC,QAAQ,GAAGhB,WAAW,CAACO,cAAc,CAAC;EAC5C,MAAMU,OAAO,GAAGjB,WAAW,CAACS,aAAa,CAAC;EAC1C,MAAMS,SAAS,GAAGD,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEE,UAAU;EACrC,MAAMC,QAAQ,GAAGnB,WAAW,CAAC,CAAC;EAC9B,IAAIoB,QAAQ,GAAGlB,WAAW,CAAC,CAAC;EAE5B,MAAMmB,kBAAkB,GAAGA,CAAA,KAAM;IAC/BF,QAAQ,CAACd,YAAY,CAACY,SAAS,CAAC,CAAC;EACnC,CAAC;EAED,MAAMK,cAAc,GAAGA,CAAA,KAAM;IAC3BH,QAAQ,CAACI,eAAe,CAACC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC,CAAC;EAC7C,CAAC;EAED,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC9BF,eAAe,CAACC,IAAI,IAAI;MACtB,IAAG,CAACA,IAAI,EAAE,OAAO,KACZ,OAAOA,IAAI,GAAG,CAAC;IACpB,CAAC,CAAC;EACN,CAAC;EAED,MAAME,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAG,CAACC,MAAM,EAAE;MACVP,QAAQ,CAAC,QAAQ,EAAE;QAAEQ,OAAO,EAAE;MAAI,CAAC,CAAC;IACtC,CAAC,MACI,IAAIC,YAAY,EAAE;MACrBN,eAAe,CAACC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;IACnC,CAAC,MACI;MACHD,eAAe,CAAC,CAAC,CAAC;IACpB;EACF,CAAC;EAGD1B,SAAS,CAAC,MAAM;IAChB,IAAGiC,QAAQ,KAAKD,YAAY,EAAE;MAC5BV,QAAQ,CAACY,UAAU,CAAC;QAAEC,MAAM;QAAEL,MAAM;QAAEE,YAAY;QAAEZ;MAAS,CAAC,CAAC,CAAC;MAChEE,QAAQ,CAACc,QAAQ,CAAE;QAAED,MAAM;QAAEL;MAAO,CAAE,CAAC,CAAC;MACxCO,WAAW,CAACL,YAAY,CAAC;IACzB;EACF,CAAC,EAAE,CAACG,MAAM,EAAEL,MAAM,EAAEV,SAAS,EAAEY,YAAY,EAAEC,QAAQ,EAAEX,QAAQ,CAAC,CAAC;EAEjE,IAAG,CAACH,OAAO,EAAE;IACX,oBACEJ,OAAA;MAAKuB,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBACzCxB,OAAA,CAACd,MAAM;QAAAuC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eACV5B,OAAA;QAAIuB,SAAS,EAAC,wBAAwB;QAAAC,QAAA,EAAC;MAAoB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAChE5B,OAAA;QAAGuB,SAAS,EAAC,yBAAyB;QAAAC,QAAA,EAAC;MAAkB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,EAC5DC,UAAU,CAAC,MAAM;QAChBrB,QAAQ,CAAC,GAAG,CAAC;MACd,CAAC,EAAE,IAAI,CAAC;IAAA;MAAAiB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEV;EAGA,oBACE5B,OAAA;IAAKuB,SAAS,EAAC,oBAAoB;IAAAC,QAAA,gBACjCxB,OAAA;MAAKuB,SAAS,EAAC,0BAA0B;MAAAC,QAAA,eACxCxB,OAAA;QAAIuB,SAAS,EAAC,uBAAuB;QAAAC,QAAA,EAAEpB,OAAO,CAAC0B;MAAI;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrD,CAAC,eACN5B,OAAA;MAAKuB,SAAS,EAAC,8BAA8B;MAAAC,QAAA,gBAC5CxB,OAAA;QAAIuB,SAAS,EAAC,0BAA0B;QAAAC,QAAA,EAAC;MAAW;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACzD5B,OAAA;QAAGuB,SAAS,EAAC,2BAA2B;QAAAC,QAAA,GAAC,GAAC,EAACpB,OAAO,CAAC2B,QAAQ,EAAC,GAAC;MAAA;QAAAN,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7D,CAAC,eACN5B,OAAA;MAAKuB,SAAS,EAAC,2BAA2B;MAAAC,QAAA,eACzCxB,OAAA;QAAKgC,GAAG,EAAE5B,OAAO,CAAC6B;MAAI;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CAAC,eACN5B,OAAA;MAAKuB,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBACzCxB,OAAA;QAAIuB,SAAS,EAAC,uBAAuB;QAAAC,QAAA,EAAC;MAAQ;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnD5B,OAAA;QAAGuB,SAAS,EAAC,yBAAyB;QAAAC,QAAA,GAAC,GAAC,EAACpB,OAAO,CAAC8B,UAAU,EAAC,GAAC;MAAA;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7D,CAAC,eACN5B,OAAA;MAAKuB,SAAS,EAAC,iCAAiC;MAAAC,QAAA,gBAC/CxB,OAAA;QAAIuB,SAAS,EAAC,0BAA0B;QAAAC,QAAA,EAAC;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC5D5B,OAAA;QAAGuB,SAAS,EAAC,+BAA+B;QAAAC,QAAA,GAAEpB,OAAO,CAAC+B,WAAW,EAAC,GAAC;MAAA;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnE,CAAC,eACP5B,OAAA;MAAKuB,SAAS,EAAC,2BAA2B;MAAAC,QAAA,gBACxCxB,OAAA,CAACR,MAAM;QAACsC,IAAI,EAAC,UAAU;QAACM,OAAO,EAAE1B;MAAe;QAAAe,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,eAC1D5B,OAAA,CAACR,MAAM;QAACsC,IAAI,EAAC,aAAa;QAACM,OAAO,EAAEvB;MAAkB;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,eAChE5B,OAAA,CAACR,MAAM;QAACsC,IAAI,EAAC,aAAa;QAACM,OAAO,EAAEtB;MAAgB;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3D,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEV,CAAC;AAAA1B,EAAA,CApFKD,OAAO;EAAA,QACMd,WAAW,EACZA,WAAW,EAEVC,WAAW,EACbE,WAAW;AAAA;AAAA+C,EAAA,GALtBpC,OAAO;AAsFb,eAAeA,OAAO;AAAC,IAAAoC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}