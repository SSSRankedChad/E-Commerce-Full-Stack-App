{"ast":null,"code":"import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';const axios=require('axios');export const getProductById=createAsyncThunk('/products/getProductById}',async(productId,_ref)=>{let{reject}=_ref;try{const response=await axios.get('/products/{productId}');return response.data;}catch(err){return reject(err.response.data);}});export const loadProducts=createAsyncThunk('/products/loadProducts',async _ref2=>{let{reject}=_ref2;try{const response=await axios.get('/products');return response.data;}catch(err){return reject(err.response.data);}});const initialState={product:{},products:[],productId:null,productPending:false,productLoadSuccess:false,productLoadError:false,productsPending:false,productsLoadSuccess:false,productsLoadError:false,searchTerm:false};const productSlice=createSlice({name:'product',initialState,reducers:{setProductId:state=>{state.productId=action.payload;return state;},clearProduct:state=>{state.productId=null;state.products=[];return state;},setSearchTerm:state=>{state.searchTerm=action.payload;return state;},clearProdStatusUpdates:state=>{state.productPending=false;state.productLoadError=false;state.productsPending=false;state.productsLoadError=false;return state;},extraReducers:{[getProductById.pending]:(state,action)=>{state.productPending=true;state.productLoadError=false;},[getProductById.fulfilled]:(state,action)=>{state.productLoadSuccess=true;state.productLoadError=false;state.product=action.payload;},[getProductById.rejected]:(state,action)=>{state.productPending=false;state.productLoadError=action.payload;},[loadProducts.pending]:(state,action)=>{state.productsPending=true;state.productsLoadError=false;},[loadProducts.fulfilled]:(state,action)=>{state.productsLoadSuccess=true;state.productsLoadError=false;state.products=action.payload;},[loadProducts.rejected]:(state,action)=>{state.productsPending=false;state.productsLoadError=action.payload;}}}});export default productSlice.reducer;export const{setProductId,clearProduct,clearProdStatusUpdates}=productSlice.actions;const selectSearchTerm=state=>state.products.searchTerm;export const selectProductId=state=>state.product.productId;export const selectProduct=state=>state.product.product;export const selectProducts=state=>state.product.products;export const selectProductPending=state=>state.product.productPending;export const selectProductPendError=state=>state.product.productLoadError;export const selectProductLoadSuccess=state=>state.product.productLoadSuccess;export const selectProductsPending=state=>state.product.productsPending;export const selectProductsLoadError=state=>state.product.productsLoadError;export const selectFilteredProducts=state=>{const searchTerm=selectSearchTerm;let products=selectProducts(state);if(searchTerm){products=products.filter(product=>product.name.toLowerCase().includes(searchTerm.toLowerCase()));}return products;};","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","require","getProductById","productId","_ref","reject","response","get","data","err","loadProducts","_ref2","initialState","product","products","productPending","productLoadSuccess","productLoadError","productsPending","productsLoadSuccess","productsLoadError","searchTerm","productSlice","name","reducers","setProductId","state","action","payload","clearProduct","setSearchTerm","clearProdStatusUpdates","extraReducers","pending","fulfilled","rejected","reducer","actions","selectSearchTerm","selectProductId","selectProduct","selectProducts","selectProductPending","selectProductPendError","selectProductLoadSuccess","selectProductsPending","selectProductsLoadError","selectFilteredProducts","filter","toLowerCase","includes"],"sources":["/home/nuwhales/project/e_commerce_app/frontend/src/src/store/Product/productSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nconst axios = require('axios');\n\nexport const getProductById = createAsyncThunk('/products/getProductById}', async(productId, {reject}) => {\n  try {\n   const response = await axios.get('/products/{productId}');\n   return response.data;\n  } catch(err) {\n    return reject(err.response.data);\n  }\n});\n\n\n\nexport const loadProducts = createAsyncThunk('/products/loadProducts', async({reject}) => {\n  try {\n   const response = await axios.get('/products');\n   return response.data;\n  } catch(err) {\n    return reject(err.response.data);\n  }\n });\n\nconst initialState = {\n  product: {},\n  products: [],\n  productId: null,\n  productPending: false,\n  productLoadSuccess: false,\n  productLoadError: false,\n  productsPending: false,\n  productsLoadSuccess: false,\n  productsLoadError: false,\n  searchTerm: false\n};\n\nconst productSlice = createSlice({\n  name: 'product',\n  initialState,\n  reducers: {\n    setProductId: (state) => {\n      state.productId = action.payload;\n      return state;\n    },\n    clearProduct: (state) => {\n      state.productId = null;\n      state.products = [];\n      return state;\n    },\n\n    setSearchTerm: (state) => {\n      state.searchTerm = action.payload;\n      return state;\n    },\n\n    clearProdStatusUpdates: (state) => {\n      state.productPending = false;\n      state.productLoadError = false;\n      state.productsPending = false;\n      state.productsLoadError = false;\n      return state;\n    },\n\n    extraReducers: {\n      [getProductById.pending]: (state, action) => {\n        state.productPending = true;\n        state.productLoadError = false;\n      },\n      [getProductById.fulfilled]: (state, action) => {\n        state.productLoadSuccess = true;\n        state.productLoadError = false;\n        state.product = action.payload;\n      },\n      [getProductById.rejected]: (state, action) => {\n        state.productPending = false;\n        state.productLoadError = action.payload;\n      },\n      [loadProducts.pending]: (state, action) => {\n        state.productsPending = true;\n        state.productsLoadError = false;\n      },\n      [loadProducts.fulfilled]: (state, action) => {\n        state.productsLoadSuccess = true;\n        state.productsLoadError = false;\n        state.products = action.payload;\n      },\n      [loadProducts.rejected]: (state, action) => {\n        state.productsPending = false;\n        state.productsLoadError = action.payload;\n      },\n    }\n  }\n});\n\nexport default productSlice.reducer;\nexport const {setProductId, clearProduct, clearProdStatusUpdates} = productSlice.actions;\nconst selectSearchTerm = (state) => state.products.searchTerm;\n\nexport const selectProductId = state => state.product.productId;\nexport const selectProduct = state => state.product.product;\nexport const selectProducts = state => state.product.products;\nexport const selectProductPending = state => state.product.productPending;\nexport const selectProductPendError = state => state.product.productLoadError;\nexport const selectProductLoadSuccess = state => state.product.productLoadSuccess;\nexport const selectProductsPending = state => state.product.productsPending;\nexport const selectProductsLoadError = state => state.product.productsLoadError;\n\n\nexport const selectFilteredProducts = state => {\n  const searchTerm = selectSearchTerm;\n  let products = selectProducts(state);\n  if(searchTerm) {\n    products = products.filter(product => product.name.toLowerCase().includes(searchTerm.toLowerCase()));\n  }\n  return products;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}