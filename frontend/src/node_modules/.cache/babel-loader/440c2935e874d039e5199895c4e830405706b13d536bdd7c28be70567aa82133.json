{"ast":null,"code":"var _jsxFileName = \"/home/nuwhales/project/e_commerce_app/frontend/src/src/features/Orders/orders.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport Alert from '@mui/material/Alert';\nimport Navbar from '../../components/Navbar/navbar.js';\nimport Loader from '../../components/Loader/loader.js';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { clearOrders, loadOrders, selectOrdersPending, selectCancelOrderSuccess, clearOrderStatusUpdates, selectOrders, selectOrdersLoadSuccess, selectCancelingOrderError } from '../../store/Orders/orderSlice.js';\nimport { selectUserId, selectLoginSuccess, selectLogoutSuccess } from '../../store/User/userSlice.js';\nimport { selectCheckoutSuccess } from '../../store/Cart/cartSlice.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Orders = () => {\n  _s();\n  const sortingOptions = ['', 'newest', 'oldest'];\n  const [sort, setSort] = useState('');\n  const orders = useSelector(selectOrders);\n  const loadingOrders = useSelector(selectOrdersPending);\n  const loadOrdersSuccess = useSelector(selectOrdersLoadSuccess);\n  const cancelOrderSuccess = useSelector(selectCancelOrderSuccess);\n  const userId = useSelector(selectUserId);\n  const cancelOrderError = useSelector(selectCancelingOrderError);\n  const loginSuccess = useSelector(selectLoginSuccess);\n  const logoutSuccess = useSelector(selectLogoutSuccess);\n  const dispatch = useDispatch();\n  const checkoutSuccess = useSelector(selectCheckoutSuccess);\n  const handleChange = ({\n    target\n  }) => {\n    setSort(target.value);\n  };\n  useEffect(() => {\n    if (userId) {\n      dispatch(loadOrders({\n        userId,\n        sort\n      }));\n    }\n  }, [dispatch, userId, sort]);\n  useEffect(() => {\n    if (cancelOrderSuccess || loginSuccess || checkoutSuccess) {\n      dispatch(loadOrders({\n        userId,\n        sort\n      }));\n    }\n    if (logoutSuccess) {\n      dispatch(clearOrders());\n    }\n    if (loadOrdersSuccess) {\n      dispatch(clearOrderStatusUpdates());\n    }\n  }, [sort, userId, dispatch, cancelOrderSuccess, logoutSuccess, loginSuccess, checkoutSuccess, loadOrdersSuccess]);\n  useEffect(() => {\n    if (loadingOrders) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"order__loading__container\",\n        children: /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 10\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this);\n    }\n  }, []);\n  if (!orders.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order__history__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        classname: \"order_history\",\n        children: \" No order history! \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        classNmae: \"order__history__message\",\n        children: \" Please make an order! \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"orders\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"Orders__heading__container\",\n      children: \" Order History \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 6\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Orders__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"Orders__label\",\n        children: \" Sort: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"Orders__select__container\",\n        name: \"sort\",\n        value: sort,\n        onChange: handleChange,\n        children: sortOptions.map((sortOpt, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: sortOpt,\n          children: sortOpt\n        }, `${sortOpt}__${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 39\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"Orders__list\",\n        children: [loadOrdersError && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          msg: loadOrdersError,\n          onClose: () => dispatch(clearOrderStatusUpdates())\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 26\n        }, this), orders.map(order => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Order, {\n            order: order\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 55\n          }, this)]\n        }, order.order_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 6\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n_s(Orders, \"TX19D/4CD/+K0P+3vN3hG4rwG6Q=\", false, function () {\n  return [useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useDispatch, useSelector];\n});\n_c = Orders;\nexport default Orders;\nvar _c;\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"names":["React","useEffect","useState","Alert","Navbar","Loader","useSelector","useDispatch","clearOrders","loadOrders","selectOrdersPending","selectCancelOrderSuccess","clearOrderStatusUpdates","selectOrders","selectOrdersLoadSuccess","selectCancelingOrderError","selectUserId","selectLoginSuccess","selectLogoutSuccess","selectCheckoutSuccess","jsxDEV","_jsxDEV","Orders","_s","sortingOptions","sort","setSort","orders","loadingOrders","loadOrdersSuccess","cancelOrderSuccess","userId","cancelOrderError","loginSuccess","logoutSuccess","dispatch","checkoutSuccess","handleChange","target","value","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","classname","classNmae","name","onChange","sortOptions","map","sortOpt","i","loadOrdersError","severity","msg","onClose","order","Order","order_id","_c","$RefreshReg$"],"sources":["/home/nuwhales/project/e_commerce_app/frontend/src/src/features/Orders/orders.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport Alert from '@mui/material/Alert';\nimport Navbar from '../../components/Navbar/navbar.js';\nimport Loader from '../../components/Loader/loader.js';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { clearOrders, loadOrders, selectOrdersPending, selectCancelOrderSuccess, clearOrderStatusUpdates, selectOrders, selectOrdersLoadSuccess, selectCancelingOrderError} from '../../store/Orders/orderSlice.js';\nimport { selectUserId, selectLoginSuccess, selectLogoutSuccess } from '../../store/User/userSlice.js';\nimport { selectCheckoutSuccess } from '../../store/Cart/cartSlice.js';\n\n\n\nconst Orders = () => {\n  const sortingOptions = ['', 'newest', 'oldest'];\n  const [sort, setSort] = useState('');\n  const orders = useSelector(selectOrders);\n  const loadingOrders = useSelector(selectOrdersPending);\n  const loadOrdersSuccess = useSelector(selectOrdersLoadSuccess);\n  const cancelOrderSuccess = useSelector(selectCancelOrderSuccess);\n  const userId = useSelector(selectUserId);\n  const cancelOrderError = useSelector(selectCancelingOrderError);\n  const loginSuccess = useSelector(selectLoginSuccess);\n  const logoutSuccess = useSelector(selectLogoutSuccess);\n  const dispatch = useDispatch();\n  const checkoutSuccess = useSelector(selectCheckoutSuccess);\n\n\n  const handleChange = ({target}) => {\n    setSort(target.value);\n  };\n\n\n  useEffect(() => {\n    if(userId) {\n      dispatch(loadOrders({userId, sort}))\n    }\n  }, [dispatch, userId, sort]);\n\n\n  useEffect(() => {\n    if(cancelOrderSuccess || loginSuccess || checkoutSuccess) {\n      dispatch(loadOrders({userId, sort}))\n    }\n    if(logoutSuccess) {\n      dispatch(clearOrders());\n    }\n    if(loadOrdersSuccess) {\n      dispatch(clearOrderStatusUpdates())\n    }\n  }, [sort, userId, dispatch, cancelOrderSuccess, logoutSuccess, loginSuccess, checkoutSuccess, loadOrdersSuccess]);\n\n\n  useEffect(() => {\n    if(loadingOrders) {\n      return (\n        <div className=\"order__loading__container\">\n         <Loader />\n        </div>\n      );\n    }\n  }, []);\n\n  if(!orders.length) {\n    return (\n      <div className=\"order__history__container\">\n        <h2 classname=\"order_history\"> No order history! </h2>\n        <p classNmae=\"order__history__message\"> Please make an order! </p>\n      </div>\n    );\n  }\n\n  return (\n    <section className=\"orders\">\n     <h2 className=\"Orders__heading__container\"> Order History </h2>\n     <div className=\"Orders__container\">\n      <span className=\"Orders__label\"> Sort: </span>\n      <select className=\"Orders__select__container\" name=\"sort\" value={sort} onChange={handleChange}>\n      {sortOptions.map((sortOpt,i) => <option key={`${sortOpt}__${i}`} value={sortOpt}>{sortOpt}</option>)}\n     </select>\n     <ul className=\"Orders__list\">\n     {loadOrdersError && <Alert severity=\"error\" msg={loadOrdersError} onClose={() => dispatch(clearOrderStatusUpdates())}/>}\n     {orders.map((order) => <li key={order.order_id}> <Order order={order}/></li>)}\n     </ul>\n    </div>\n   </section>\n  );\n}\n\nexport default Orders;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}