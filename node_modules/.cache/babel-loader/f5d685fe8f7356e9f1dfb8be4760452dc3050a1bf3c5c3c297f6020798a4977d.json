{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { findProductById, findProducts } from '../../apis/products.js';\nconst axios = require('axios');\nexport const getProductById = createAsyncThunk('/products/:productId', async (param, thunkAPI) => {\n  try {\n    const response = await findProductById();\n    return response.data;\n  } catch (err) {\n    throw err.response.data;\n  }\n});\nexport const loadProducts = createAsyncThunk('/products', async (param, thunkAPI) => {\n  try {\n    const response = await findProducts();\n    return response.data;\n  } catch (err) {\n    throw err.response.data;\n  }\n});\nconst initialState = {\n  product: {},\n  products: [],\n  productId: null,\n  productPending: false,\n  productLoadSuccess: false,\n  productLoadError: false,\n  productsPending: false,\n  productsLoadSuccess: false,\n  productsLoadError: false,\n  searchTerm: null\n};\nconst productSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    setProductId: state => {\n      state.productId = action.payload;\n      return state;\n    },\n    clearProduct: state => {\n      state.productId = null;\n      state.products = [];\n      return state;\n    },\n    setSearchTerm: state => {\n      state.searchTerm = action.payload;\n      return state;\n    },\n    clearProdStatusUpdates: state => {\n      state.productPending = false;\n      state.productLoadError = false;\n      state.productsPending = false;\n      state.productsLoadError = false;\n      return state;\n    },\n    extraReducers: builder => {\n      builder.addCase(getProductById.pending, (state, action) => {\n        state.productPending = true;\n        state.productLoadError = false;\n      }).addCase(getProductById.fulfilled, (state, action) => {\n        state.productLoadSuccess = true;\n        state.productLoadError = false;\n        state.product = action.payload;\n      }).addCase(getProductById.rejected, (state, action) => {\n        state.productPending = false;\n        state.productLoadError = action.payload;\n      }).addCase(loadProducts.pending, (state, action) => {\n        state.productsPending = true;\n        state.productsLoadError = false;\n      }).addCase(loadProducts.fulfilled, (state, action) => {\n        state.productsLoadSuccess = true;\n        state.productsLoadError = false;\n        state.products = action.payload;\n      }).addCase(loadProducts.rejected, (state, action) => {\n        state.productsPending = false;\n        state.productsLoadError = action.payload;\n      });\n    }\n  }\n});\nexport default productSlice.reducer;\nexport const {\n  setProductId,\n  clearProduct,\n  clearProdStatusUpdates\n} = productSlice.actions;\nexport const selectSearchTerm = state => state.product.searchTerm;\nexport const selectProductId = state => state.product.productId;\nexport const selectProduct = state => state.product.product;\nexport const selectProducts = state => state.product.products;\nexport const selectProductPending = state => state.product.productPending;\nexport const selectProductPendError = state => state.product.productLoadError;\nexport const selectProductLoadSuccess = state => state.product.productLoadSuccess;\nexport const selectProductsPending = state => state.product.productsPending;\nexport const selectProductsLoadError = state => state.product.productsLoadError;\nexport const selectFilteredProducts = state => {\n  const searchTerm = selectSearchTerm;\n  let products = selectProducts(state);\n  if (searchTerm) {\n    products = products.filter(product => product.name.toLowerCase().includes(searchTerm.toLowerCase()));\n  }\n  return product;\n};","map":{"version":3,"names":["createSlice","createAsyncThunk","findProductById","findProducts","axios","require","getProductById","param","thunkAPI","response","data","err","loadProducts","initialState","product","products","productId","productPending","productLoadSuccess","productLoadError","productsPending","productsLoadSuccess","productsLoadError","searchTerm","productSlice","name","reducers","setProductId","state","action","payload","clearProduct","setSearchTerm","clearProdStatusUpdates","extraReducers","builder","addCase","pending","fulfilled","rejected","reducer","actions","selectSearchTerm","selectProductId","selectProduct","selectProducts","selectProductPending","selectProductPendError","selectProductLoadSuccess","selectProductsPending","selectProductsLoadError","selectFilteredProducts","filter","toLowerCase","includes"],"sources":["/home/nuwhales/project/E-Commerce-Full-Stack-App/src/store/Product/productSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport { findProductById, findProducts } from '../../apis/products.js';\nconst axios = require('axios');\n\nexport const getProductById = createAsyncThunk('/products/:productId', async(param, thunkAPI) => {\n  try {\n    const response = await findProductById();\n    return response.data;\n  } catch(err) {\n    throw err.response.data;\n  }\n});\n\n\n\nexport const loadProducts = createAsyncThunk('/products', async(param, thunkAPI) => {\n  try {\n    const response = await findProducts();\n   return response.data;\n  } catch(err) {\n    throw err.response.data;\n  }\n });\n\nconst initialState = {\n  product: {},\n  products: [],\n  productId: null,\n  productPending: false,\n  productLoadSuccess: false,\n  productLoadError: false,\n  productsPending: false,\n  productsLoadSuccess: false,\n  productsLoadError: false,\n  searchTerm: null,\n};\n\nconst productSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    setProductId: (state) => {\n      state.productId = action.payload;\n      return state;\n    },\n    clearProduct: (state) => {\n      state.productId = null;\n      state.products = [];\n      return state;\n    },\n\n    setSearchTerm: (state) => {\n      state.searchTerm = action.payload;\n      return state;\n    },\n\n    clearProdStatusUpdates: (state) => {\n      state.productPending = false;\n      state.productLoadError = false;\n      state.productsPending = false;\n      state.productsLoadError = false;\n      return state;\n    },\n    extraReducers: (builder) => {\n      builder\t\n       .addCase(getProductById.pending, (state, action) => {\n         state.productPending = true;\n         state.productLoadError = false;\n       })\n       .addCase(getProductById.fulfilled, (state, action) => {\n         state.productLoadSuccess = true;\n         state.productLoadError = false;\n         state.product = action.payload;\n       })\n       .addCase(getProductById.rejected, (state, action) => {\n         state.productPending = false;\n         state.productLoadError = action.payload;\n        })\n       .addCase(loadProducts.pending, (state, action) => {\n         state.productsPending = true;\n         state.productsLoadError = false;\n       })\n       .addCase(loadProducts.fulfilled, (state, action) => {\n         state.productsLoadSuccess = true;\n         state.productsLoadError = false;\n         state.products = action.payload;\n       })\n       .addCase(loadProducts.rejected, (state, action) => {\n        state.productsPending = false;\n        state.productsLoadError = action.payload;\n       })\n    }\n  }\n});\n\nexport default productSlice.reducer;\nexport const {setProductId, clearProduct, clearProdStatusUpdates} = productSlice.actions;\nexport const selectSearchTerm = (state) => state.product.searchTerm;\n\nexport const selectProductId = state => state.product.productId;\nexport const selectProduct = state => state.product.product;\nexport const selectProducts = state => state.product.products;\nexport const selectProductPending = state => state.product.productPending;\nexport const selectProductPendError = state => state.product.productLoadError;\nexport const selectProductLoadSuccess = state => state.product.productLoadSuccess;\nexport const selectProductsPending = state => state.product.productsPending;\nexport const selectProductsLoadError = state => state.product.productsLoadError;\n\n\nexport const selectFilteredProducts = state => {\n  const searchTerm = selectSearchTerm;\n  let products = selectProducts(state);\n  if(searchTerm) {\n    products = products.filter(product => product.name.toLowerCase().includes(searchTerm.toLowerCase()));\n  }\n  return product;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}